{"version":3,"sources":["webpack:///./src/pages/archives.jsx"],"names":["Archives","_ref","pageContext","data","archive","spath","posts","allMarkdownRemark","edges","archives","forEach","_ref2","node","frontmatter","date","dates","split","push","Object","_emotion_core__WEBPACK_IMPORTED_MODULE_3__","layouts__WEBPACK_IMPORTED_MODULE_10__","react_helmet__WEBPACK_IMPORTED_MODULE_7___default","a","title","config","siteTitle","components__WEBPACK_IMPORTED_MODULE_9__","path","keyword","map","element","key","id","cover","childImageSharp","fluid","stype","type","tags","excerpt","__webpack_exports__","props","gatsby__WEBPACK_IMPORTED_MODULE_6__","query","render","_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default","_public_static_d_2980575510_json__WEBPACK_IMPORTED_MODULE_4__","propTypes","PropTypes","shape","string","isRequired","object"],"mappings":"yOAQMA,EAAW,SAAAC,GAA2B,IAAxBC,EAAwBD,EAAxBC,YAAaC,EAAWF,EAAXE,KAChBC,GAAYF,EAAnBG,MAAmBH,EAAZE,SACTE,EAAQH,EAAKI,kBAAkBC,MAC/BC,EAAW,GAUjB,OATAH,EAAMI,QAAQ,SAAAC,GAAc,IAAXC,EAAWD,EAAXC,KACf,GAAIA,EAAKC,YAAYC,KAAM,CACzB,IAAIC,EAAQH,EAAKC,YAAYC,KAAKE,MAAM,KACnCP,EAASM,EAAM,GAAG,IAAIA,EAAM,MAC/BN,EAASM,EAAM,GAAG,IAAIA,EAAM,IAAM,IAEpCN,EAASM,EAAM,GAAG,IAAIA,EAAM,IAAIE,KAAKL,MAIvCM,OAAAC,EAAA,EAAAD,CAACE,EAAA,EAAD,KACEF,OAAAC,EAAA,EAAAD,CAACG,EAAAC,EAAD,CAAQC,MAAK,QAAUC,IAAOC,YAC9BP,OAAAC,EAAA,EAAAD,CAACQ,EAAA,EAAD,CAAQH,MAAK,GAAKC,IAAOC,YACzBP,OAAAC,EAAA,EAAAD,CAACE,EAAA,EAAD,KACEF,OAAAC,EAAA,EAAAD,CAACQ,EAAA,EAAD,CAAYC,KAAK,OAAOJ,MAAM,KAAKK,QAAQ,SAC1CnB,EAASL,GAASyB,IAAI,SAAAC,GAAO,OAC5BZ,OAAAC,EAAA,EAAAD,CAACQ,EAAA,EAAD,CACEK,IAAKD,EAAQE,GACbC,MAAOH,EAAQjB,YAAYoB,MAAMC,gBAAgBC,MACjDC,MAAON,EAAQjB,YAAYwB,KAC3BV,KAAMG,EAAQjB,YAAYc,KAC1BJ,MAAOO,EAAQjB,YAAYU,MAC3BT,KAAMgB,EAAQjB,YAAYC,KAC1BwB,KAAMR,EAAQjB,YAAYyB,KAC1BC,QAAST,EAAQS,eAQdC,EAAA,iBAAAC,GAAK,OAClBvB,OAAAC,EAAA,EAAAD,CAACwB,EAAA,YAAD,CACEC,MAAK,aA+BPC,OAAQ,SAAAzC,GAAI,OAAIe,OAAAC,EAAA,EAAAD,CAAClB,EAAD6C,IAAA,CAAU1C,KAAMA,GAAUsC,KAhC1CtC,KAAA2C,KAoCF9C,EAAS+C,UAAY,CACnB7C,YAAa8C,IAAUC,MAAM,CAC3B5C,MAAO2C,IAAUE,OAAOC,WACxB/C,QAAS4C,IAAUE,OAAOC,aAE5BhD,KAAM6C,IAAUI,OAAOD","file":"component---src-pages-archives-jsx-aa351fe17c58fc5c2270.js","sourcesContent":["import React from 'react';\nimport { StaticQuery, graphql, Link } from 'gatsby';\nimport Helmet from 'react-helmet';\nimport PropTypes from 'prop-types';\nimport { Header, BlogList, ContentNav } from 'components';\nimport { Layout, Container } from 'layouts';\nimport config from '../../config/site';\n\nconst Archives = ({ pageContext, data }) => {\n  const { spath, archive } = pageContext;\n  const posts = data.allMarkdownRemark.edges;\n  const archives = [];\n  posts.forEach(({ node }) => {\n    if (node.frontmatter.date) {\n      var dates = node.frontmatter.date.split('-');\n      if (!archives[dates[0]+'-'+dates[1]]) {\n        archives[dates[0]+'-'+dates[1]] = [];\n      }\n      archives[dates[0]+'-'+dates[1]].push(node);\n    }\n  });\n  return (\n    <Layout>\n      <Helmet title={`文章 | ${config.siteTitle}`} />\n      <Header title={`${config.siteTitle}`}></Header>\n      <Container>\n        <ContentNav path=\"blog\" title=\"文章\" keyword=\"全部文章\"></ContentNav>\n        {archives[archive].map(element => (\n          <BlogList\n            key={element.id}\n            cover={element.frontmatter.cover.childImageSharp.fluid}\n            stype={element.frontmatter.type}\n            path={element.frontmatter.path}\n            title={element.frontmatter.title}\n            date={element.frontmatter.date}\n            tags={element.frontmatter.tags}\n            excerpt={element.excerpt}\n          />\n        ))}\n      </Container>\n    </Layout>\n  );\n};\n\nexport default props => (\n  <StaticQuery\n    query={graphql`\n    query {\n      allMarkdownRemark(sort: { order: DESC, fields: [frontmatter___date] }) {\n        edges {\n          node {\n            id\n            excerpt(pruneLength: 200)\n            frontmatter {\n              title\n              path\n              tags\n              type\n              categores\n              date(formatString: \"YYYY-MM-DD\")\n              cover {\n                childImageSharp {\n                  fluid(\n                    maxWidth: 1000\n                    quality: 90\n                    traceSVG: { color: \"#2B2B2F\" }\n                  ) {\n                    ...GatsbyImageSharpFluid_withWebp_tracedSVG\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  `}\n  render={data => <Archives data={data} {...props} />}\n/>\n)\n\nArchives.propTypes = {\n  pageContext: PropTypes.shape({\n    spath: PropTypes.string.isRequired,\n    archive: PropTypes.string.isRequired,\n  }),\n  data: PropTypes.object.isRequired,\n};\n"],"sourceRoot":""}
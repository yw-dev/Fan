{"version":3,"sources":["webpack:///./src/pages/archives.jsx","webpack:///./node_modules/@babel/runtime/helpers/readOnlyError.js"],"names":["ContentWrapper","Object","_emotion_styled_base__WEBPACK_IMPORTED_MODULE_2__","target","props","theme","breakpoints","l","hd","m","s","ContentContainer","ContentPost","AsideWrapper","vl","Archives","_ref","pageContext","data","archive","spath","archives","posts","allMarkdownRemark","edges","map","_ref2","node","frontmatter","date","dates","split","push","_babel_runtime_helpers_readOnlyError__WEBPACK_IMPORTED_MODULE_1___default","_emotion_core__WEBPACK_IMPORTED_MODULE_3__","layouts__WEBPACK_IMPORTED_MODULE_9__","react_helmet__WEBPACK_IMPORTED_MODULE_6___default","a","title","config","siteTitle","components__WEBPACK_IMPORTED_MODULE_8__","className","path","keyword","key","id","cover","childImageSharp","fluid","stype","type","tags","excerpt","propTypes","PropTypes","shape","string","isRequired","arrayOf","object","array","categores","query","module","exports","name","Error"],"mappings":"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","file":"component---src-pages-archives-jsx-172f97b7969b67dccb95.js","sourcesContent":["import React from 'react';\nimport { graphql, Link } from 'gatsby';\nimport Helmet from 'react-helmet';\nimport PropTypes from 'prop-types';\nimport styled from '@emotion/styled';\nimport { Header, BlogList, ContentNav } from 'components';\nimport { Layout, Container } from 'layouts';\nimport config from '../../config/site';\nimport { \n  SlideBar, \n  Archive, \n  GuessLike, \n  CardHeader, \n} from 'components';\n\nconst ContentWrapper = styled.div`\n  margin: 1rem 9rem 1rem 9rem;\n  width: auto;\n  @media (max-width: ${props => props.theme.breakpoints.l}) {\n    margin: 2rem 6rem 2rem 6rem;\n  }\n  @media (max-width: ${props => props.theme.breakpoints.hd}) {\n    margin: 1rem 4rem 1rem 4rem;\n  }\n  @media (max-width: ${props => props.theme.breakpoints.m}) {\n    margin: 1rem 2rem 1rem 2rem;\n  }\n  @media (max-width:  ${props => props.theme.breakpoints.s}) {\n    margin:  1rem;\n  }\n`;\n\nconst ContentContainer = styled.div`\n  width: auto;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  @media (max-width: ${props => props.theme.breakpoints.m}) {\n    flex-wrap: wrap;\n  }\n`; \n\nconst ContentPost = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  padding-right: 1rem;\n  @media (max-width: ${props => props.theme.breakpoints.m}) {\n    padding-right: 0rem;\n  }\n  .list{\n    margin:0;\n    padding:0;\n    @media (max-width: ${props => props.theme.breakpoints.m}) {\n      margin: 0 0 1rem 0;\n    }\n  }\n`;\n\nconst AsideWrapper = styled.div`\n  width: calc(99.9% * 1 / 3 - 1rem);\n  display: flex;\n  flex-direction: column;\n  @media (max-width: ${props => props.theme.breakpoints.vl}) {\n    width: calc(99.9% * 1 / 2 - 1rem);\n  }\n  @media (max-width: ${props => props.theme.breakpoints.m}) {\n    width: 100%;\n  }\n`;\n\nconst Archives = ({ pageContext, data }) => {\n  const { spath, archive } = pageContext;  \n  const archives = {};\n  const posts = [];\n  data.allMarkdownRemark.edges.map(({ node }) => {\n    if (node.frontmatter.date) {\n      var dates = node.frontmatter.date.split('-');\n      if (!archives[dates[0]+'-'+dates[1]]) {\n        archives[dates[0]+'-'+dates[1]] = [];\n      }\n      archives[dates[0]+'-'+dates[1]].push(node);\n    }\n  });\n  posts = archives[archive];\n  return (\n    <Layout>\n      <Helmet title={`归档 | ${config.siteTitle}`} />\n      <Header title={`${config.siteTitle}`}></Header>\n      <ContentWrapper>\n        <ContentContainer>\n          <ContentPost>\n            <Container className=\"list\">\n              <ContentNav path=\"blog\" title=\"归档\" keyword={archive}></ContentNav>\n              {posts.map(node => (\n                <BlogList\n                  key={node.id}\n                  cover={node.frontmatter.cover.childImageSharp.fluid}\n                  stype={node.frontmatter.type}\n                  path={node.frontmatter.path}\n                  title={node.frontmatter.title}\n                  date={node.frontmatter.date}\n                  tags={node.frontmatter.tags}\n                  excerpt={node.excerpt}\n                />\n              ))}\n            </Container>\n          </ContentPost>\n          <AsideWrapper>\n            <Archive />\n            <GuessLike />\n          </AsideWrapper>\n        </ContentContainer>      \n      </ContentWrapper>\n    </Layout>\n  );\n};\n\nexport default Archives;\n\nArchives.propTypes = {\n  pageContext: PropTypes.shape({\n    spath: PropTypes.string.isRequired,\n    archive: PropTypes.string.isRequired,\n  }),\n  data: PropTypes.shape({\n    allMarkdownRemark: PropTypes.shape({\n      edges: PropTypes.arrayOf(\n        PropTypes.shape({\n          node: PropTypes.shape({\n            excerpt: PropTypes.string,\n            frontmatter: PropTypes.shape({\n              cover: PropTypes.object.isRequired,\n              path: PropTypes.string.isRequired,\n              title: PropTypes.string.isRequired,\n              type: PropTypes.string,\n              date: PropTypes.string.isRequired,\n              tags: PropTypes.array,\n              categores: PropTypes.string.isRequired,\n            }),\n          }),\n        }).isRequired\n      ),\n    }),\n  }),\n};\n\nexport const query = graphql`\n  query {\n    allMarkdownRemark(\n      sort: { order: DESC, fields: [frontmatter___date] }\n    ) {\n      edges {\n        node {\n          id\n          excerpt(pruneLength: 100)\n          frontmatter {\n            title\n            type\n            path\n            tags\n            categores\n            date(formatString: \"YYYY-MM-DD\")\n            cover {\n              childImageSharp {\n                fluid(\n                  maxWidth: 1000\n                  quality: 90\n                  traceSVG: { color: \"#2B2B2F\" }\n                ) {\n                  ...GatsbyImageSharpFluid_withWebp_tracedSVG\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n","function _readOnlyError(name) {\n  throw new Error(\"\\\"\" + name + \"\\\" is read-only\");\n}\n\nmodule.exports = _readOnlyError;"],"sourceRoot":""}
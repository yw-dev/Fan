{"version":3,"sources":["webpack:///./src/pages/archives.jsx"],"names":["Archives","_ref","pageContext","data","list","spath","archive","posts","allMarkdownRemark","edges","archives","forEach","_ref2","node","frontmatter","date","dates","split","push","Object","_emotion_core__WEBPACK_IMPORTED_MODULE_2__","layouts__WEBPACK_IMPORTED_MODULE_8__","react_helmet__WEBPACK_IMPORTED_MODULE_5___default","a","title","config","siteTitle","components__WEBPACK_IMPORTED_MODULE_7__","path","keyword","key","id","stype","type","tags","excerpt","query","propTypes","PropTypes","shape","string","isRequired","array","arrayOf","cover","object","categores"],"mappings":"+OAQMA,EAAW,SAAAC,GAA2B,IAAxBC,EAAwBD,EAAxBC,YAAaC,EAAWF,EAAXE,KAChBC,GAAkBF,EAAzBG,MAAyBH,EAAlBE,MAAME,EAAYJ,EAAZI,QACfC,EAAQJ,EAAKK,kBAAkBC,MAC/BC,EAAW,GAWjB,OAVAH,EAAMI,QAAQ,SAAAC,GAAc,IAAXC,EAAWD,EAAXC,KACf,GAAIA,EAAKC,YAAYC,KAAM,CACzB,IAAIC,EAAQH,EAAKC,YAAYC,KAAKE,MAAM,KACnCP,EAASM,EAAM,GAAG,IAAIA,EAAM,MAC/BN,EAASM,EAAM,GAAG,IAAIA,EAAM,IAAM,IAEpCN,EAASM,EAAM,GAAG,IAAIA,EAAM,IAAIE,KAAKL,MAKvCM,OAAAC,EAAA,EAAAD,CAACE,EAAA,EAAD,KACEF,OAAAC,EAAA,EAAAD,CAACG,EAAAC,EAAD,CAAQC,MAAK,QAAUC,IAAOC,YAC9BP,OAAAC,EAAA,EAAAD,CAACQ,EAAA,EAAD,CAAQH,MAAK,GAAKC,IAAOC,YACzBP,OAAAC,EAAA,EAAAD,CAACE,EAAA,EAAD,KACEF,OAAAC,EAAA,EAAAD,CAACQ,EAAA,EAAD,CAAYC,KAAK,OAAOJ,MAAM,KAAKK,QAASvB,IAC3CF,EAAKO,QAAQ,SAAAE,GAAI,OAChBM,OAAAC,EAAA,EAAAD,CAACQ,EAAA,EAAD,CACEG,IAAKjB,EAAKkB,GACVC,MAAOnB,EAAKC,YAAYmB,KACxBL,KAAMf,EAAKC,YAAYc,KACvBJ,MAAOX,EAAKC,YAAYU,MACxBT,KAAMF,EAAKC,YAAYC,KACvBmB,KAAMrB,EAAKC,YAAYoB,KACvBC,QAAStB,EAAKsB,eAQXnC,YAER,IAAMoC,EAAK,aAmClBpC,EAASqC,UAAY,CACnBnC,YAAaoC,IAAUC,MAAM,CAC3BlC,MAAOiC,IAAUE,OAAOC,WACxBrC,KAAMkC,IAAUI,MAChBpC,QAASgC,IAAUE,OAAOC,aAE5BtC,KAAMmC,IAAUC,MAAM,CACpB/B,kBAAmB8B,IAAUC,MAAM,CACjC9B,MAAO6B,IAAUK,QACfL,IAAUC,MAAM,CACd1B,KAAMyB,IAAUC,MAAM,CACpBJ,QAASG,IAAUE,OACnB1B,YAAawB,IAAUC,MAAM,CAC3BK,MAAON,IAAUO,OAAOJ,WACxBb,KAAMU,IAAUE,OAAOC,WACvBjB,MAAOc,IAAUE,OAAOC,WACxBR,KAAMK,IAAUE,OAChBzB,KAAMuB,IAAUE,OAAOC,WACvBP,KAAMI,IAAUI,MAChBI,UAAWR,IAAUE,OAAOC,iBAG/BA","file":"component---src-pages-archives-jsx-39cdb12aeaa74411bca5.js","sourcesContent":["import React from 'react';\nimport { StaticQuery, graphql, Link } from 'gatsby';\nimport Helmet from 'react-helmet';\nimport PropTypes from 'prop-types';\nimport { Header, BlogList, ContentNav } from 'components';\nimport { Layout, Container } from 'layouts';\nimport config from '../../config/site';\n\nconst Archives = ({ pageContext, data }) => {\n  const { spath, list, archive } = pageContext;\n  const posts = data.allMarkdownRemark.edges;\n  const archives = [];\n  posts.forEach(({ node }) => {\n    if (node.frontmatter.date) {\n      var dates = node.frontmatter.date.split('-');\n      if (!archives[dates[0]+'-'+dates[1]]) {\n        archives[dates[0]+'-'+dates[1]] = [];\n      }\n      archives[dates[0]+'-'+dates[1]].push(node);\n    }\n  });\n  //const list = archives[archive];\n  return (\n    <Layout>\n      <Helmet title={`归档 | ${config.siteTitle}`} />\n      <Header title={`${config.siteTitle}`}></Header>\n      <Container>\n        <ContentNav path=\"blog\" title=\"归档\" keyword={archive}></ContentNav>\n        {list.forEach(node => (\n          <BlogList\n            key={node.id}\n            stype={node.frontmatter.type}\n            path={node.frontmatter.path}\n            title={node.frontmatter.title}\n            date={node.frontmatter.date}\n            tags={node.frontmatter.tags}\n            excerpt={node.excerpt}\n          />\n        ))}\n      </Container>\n    </Layout>\n  );\n};\n\nexport default Archives;\n\nexport const query = graphql`\n  query {\n    allMarkdownRemark(\n      sort: { order: DESC, fields: [frontmatter___date] }\n    ) {\n      edges {\n        node {\n          id\n          excerpt(pruneLength: 100)\n          frontmatter {\n            title\n            type\n            path\n            tags\n            categores\n            date(formatString: \"YYYY-MM-DD\")\n            cover {\n              childImageSharp {\n                fluid(\n                  maxWidth: 1000\n                  quality: 90\n                  traceSVG: { color: \"#2B2B2F\" }\n                ) {\n                  ...GatsbyImageSharpFluid_withWebp_tracedSVG\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\n\nArchives.propTypes = {\n  pageContext: PropTypes.shape({\n    spath: PropTypes.string.isRequired,\n    list: PropTypes.array,\n    archive: PropTypes.string.isRequired,\n  }),\n  data: PropTypes.shape({\n    allMarkdownRemark: PropTypes.shape({\n      edges: PropTypes.arrayOf(\n        PropTypes.shape({\n          node: PropTypes.shape({\n            excerpt: PropTypes.string,\n            frontmatter: PropTypes.shape({\n              cover: PropTypes.object.isRequired,\n              path: PropTypes.string.isRequired,\n              title: PropTypes.string.isRequired,\n              type: PropTypes.string,\n              date: PropTypes.string.isRequired,\n              tags: PropTypes.array,\n              categores: PropTypes.string.isRequired,\n            }),\n          }),\n        }).isRequired\n      ),\n    }),\n  }),\n};\n"],"sourceRoot":""}